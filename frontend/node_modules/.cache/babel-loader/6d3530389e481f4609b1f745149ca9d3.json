{"ast":null,"code":"import _slicedToArray from\"/Users/shashwatkansal/Documents/Shashwat/Projects/conquer2/V0.3/conquer2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _createClass from\"/Users/shashwatkansal/Documents/Shashwat/Projects/conquer2/V0.3/conquer2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/shashwatkansal/Documents/Shashwat/Projects/conquer2/V0.3/conquer2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/shashwatkansal/Documents/Shashwat/Projects/conquer2/V0.3/conquer2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _classCallCheck from\"/Users/shashwatkansal/Documents/Shashwat/Projects/conquer2/V0.3/conquer2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import React,{Component,useState}from'react';import{connect,loaddetails}from'../../api/index.js';import{Typography,Paper,makeStyles,IconButton,Snackbar,Grid}from'@material-ui/core';import{fade}from'@material-ui/core/styles/colorManipulator';import HelpIcon from'@material-ui/icons/Help';import MuiAlert from'@material-ui/lab/Alert';import VectorMap from'./VectorMap';import FiberManualRecordIcon from'@material-ui/icons/FiberManualRecord';import'./Map.css';var countriesLoaded=false;var countries={};var socket=null;var troops=0;var countryStates={};var playerColours={};var players=[];var countryState=function countryState(Troops,Player){_classCallCheck(this,countryState);this.Troops=Troops;this.Player=Player;};var GameMap=/*#__PURE__*/function(_Component){_inherits(GameMap,_Component);var _super=_createSuper(GameMap);function GameMap(){_classCallCheck(this,GameMap);return _super.apply(this,arguments);}_createClass(GameMap,[{key:\"render\",// constructor() {\n// \tsuper();\n// \tsocket = connect();\n// \tsocket.onmessage = (msg) => {\n// \t\tvar action = JSON.parse(msg.data);\n// \t\tswitch (action.Type) {\n// \t\t\tcase 'updateTroops':\n// \t\t\t\ttroops = action.Troops;\n// \t\t\t\tbreak;\n// \t\t\tcase 'updateCountry':\n// \t\t\t\tif (\n// \t\t\t\t\ttypeof countryStates[action.Country] == 'undefined' ||\n// \t\t\t\t\tcountryStates[action.Country].Player != action.Player\n// \t\t\t\t) {\n// \t\t\t\t\tcountryStates[action.Country] = new countryState(action.Troops, action.Player);\n// \t\t\t\t} else {\n// \t\t\t\t\tcountryStates[action.Country].Troops += action.Troops;\n// \t\t\t\t}\n// \t\t\t\tbreak;\n// \t\t\tcase 'newPlayer':\n// \t\t\t\tconsole.log(action.Player + ' has entered the chat bois as: ' + action.Country);\n// \t\t\t\tplayerColours[action.Player] = action.Country;\n// \t\t\t\tplayers.push(action.Player);\n// \t\t}\n// \t};\n// }\nvalue:function render(){return/*#__PURE__*/React.createElement(SideBar,null);}}]);return GameMap;}(Component);var useStyles=makeStyles(function(theme){return{sidebar:{marginLeft:'70%',marginTop:'10%',background:fade('#000000',0.8),color:'white',padding:theme.spacing(3),position:'fixed',width:'30%',height:'80%',borderRadius:'5%',boxShadow:'0px 10px 50px #555'},players:{background:fade('#000000',0.8),color:'white',padding:theme.spacing(2),position:'fixed',boxShadow:'0px 10px 50px #555'},buttons:{display:'flex',justifyContent:'flex-end'},button:{marginTop:theme.spacing(3),marginLeft:theme.spacing(1)}};});function Alert(props){return/*#__PURE__*/React.createElement(MuiAlert,Object.assign({elevation:6,variant:\"filled\"},props));}function SideBar(){//CSS\nvar classes=useStyles();//TODO: Fetch #troops, attack, move options, fix data vals\n// Spy Detail Information\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setname=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),pop_est=_useState4[0],setpop_est=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),gdp=_useState6[0],setgdp=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),subrg=_useState8[0],setsubrg=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),continent=_useState10[0],setcontinent=_useState10[1];//Currently Clicked Countries\nvar _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),fromCountry=_useState12[0],setfromCountry=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),toCountry=_useState14[0],settoCountry=_useState14[1];//For the snackbar display settings\nvar _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),openHelp=_React$useState2[0],setOpenHelp=_React$useState2[1];//Get username\nvar username=countryState.Player;var handleClick=function handleClick(geo){var NAME=geo.properties.NAME;//TODO: Check if country1 is player's country\nif(fromCountry===''){setfromCountry(NAME);}else if(NAME===fromCountry){setfromCountry('');settoCountry('');}else{settoCountry(NAME);}};//Handle functions for snackbar\nvar handleOpenHelp=function handleOpenHelp(){setOpenHelp(true);};var handleCloseHelp=function handleCloseHelp(event,reason){if(reason==='clickaway'){return;}setOpenHelp(false);};var handleColorFill=function handleColorFill(country){if(!countriesLoaded){loadMap();countriesLoaded=true;}var _country$properties=country.properties,NAME=_country$properties.NAME,ISO_A2=_country$properties.ISO_A2;if(NAME===fromCountry){return'#002984';}else if(NAME===toCountry){return'#ffcd38';}if(fromCountry===ISO_A2)if(clickedCountry!==''&&countries[clickedCountry]!==undefined&&countries[clickedCountry].some(function(iso){return iso===ISO_A2;})){return'#be90d4';}try{var col=playerColours[countryStates[ISO_A2].Player];if(typeof col=='undefined'){col='#B9A37E';}return col;}catch(TypeError){return'#B9A37E';}};//TODO: Change stroke according to action\nvar handleColorStroke=function handleColorStroke(geo){var NAME=geo.properties.NAME;if(NAME===fromCountry){return'#002984';}else if(NAME===toCountry){return'#ff9800';}return'#FFFFFF';};var handleStrokeWidth=function handleStrokeWidth(geo){var NAME=geo.properties.NAME;if(NAME===fromCountry||NAME===toCountry){return 1;}return 0.3;};var options=function options(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Grid,{container:true,xs:12},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(\"button\",null,\"ATTACK\")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(\"button\",null,\"MOVE\")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(\"button\",null,\"DONATE\")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(\"button\",null,\"DEPLOY\"))));};return/*#__PURE__*/React.createElement(\"div\",null,players.length!==0&&/*#__PURE__*/React.createElement(PlayerBox,{classes:classes}),/*#__PURE__*/React.createElement(Paper,{className:classes.sidebar},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:2,style:{alignText:'center'}},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:10},/*#__PURE__*/React.createElement(Typography,{variant:\"h4\",align:\"center\"},\"Welcome, Commander \",username,\"!\")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:2},/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"help\",color:\"primary\",size:\"small\"},/*#__PURE__*/React.createElement(HelpIcon,{style:{fontSize:'25'},onClick:handleOpenHelp}),/*#__PURE__*/React.createElement(Snackbar,{open:openHelp,autoHideDuration:5000,onClose:handleCloseHelp},/*#__PURE__*/React.createElement(Alert,{onClose:handleCloseHelp,severity:\"info\"},\"This is your control room. Hover above countries to receive encrypted data. Click on countries to see your military options.\")))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},name!==''&&/*#__PURE__*/React.createElement(SpyDetails,{name:name,subrg:subrg,continent:continent,pop_est:pop_est,gdp:gdp})))),/*#__PURE__*/React.createElement(VectorMap,{setname:setname,setpop_est:setpop_est,setsubrg:setsubrg,setcontinent:setcontinent,setgdp:setgdp,handleColorFill:handleColorFill,handleColorStroke:handleColorStroke,handleStrokeWidth:handleStrokeWidth,handleClick:handleClick}));}var PlayerBox=function PlayerBox(_ref){var classes=_ref.classes;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Paper,{className:classes.players},/*#__PURE__*/React.createElement(Typography,{variant:\"subtitle1\"},\"ONLINE PLAYERS:\"),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:12},Object.keys(playerColours).map(function(player,color){return/*#__PURE__*/React.createElement(\"div\",{key:player,style:{padding:'5%'}},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:12},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Typography,{variant:\"p\"},player),/*#__PURE__*/React.createElement(FiberManualRecordIcon,{style:{color:color}}))));}))));};var clickedCountry;//TODO: player team colour for country\nfunction countryColors(country){var _country$properties2=country.properties,NAME=_country$properties2.NAME,ISO_A2=_country$properties2.ISO_A2;return'#AAA';}function loadMap(){//TODO: take value from the cookie\nfetch('/maps/world.txt').then(function(raw){return raw.text();}).then(function(raw){return raw.split('\\n');}).then(function(lines){return lines.map(function(s){return s.split(' ');});}).then(function(lines){return lines.forEach(function(line){return countries[line[0]]=line.slice(1);});});}//FIXME: fix read file correctly\nfunction getCountryCodes(countrycode){// var fs = require(\"fs\");\nvar fileURL='/maps/world.txt';var textByLine='';fetch(fileURL).then(function(raw){return raw.text();}).then(function(raw){return raw.split('\\n');}).then(function(raw){return raw.map(function(x){return x.split(' ');});}).then(function(raw){return textByLine=raw;});var countriesBordering=[];for(var j=0;j<textByLine.length;j++){var borders=textByLine[j].split(' ');if(borders[0]==countrycode){for(var i=1;i<borders.length;i++){//Get border codes\ncountriesBordering.push(borders[i]);}}}console.log(countriesBordering);return countriesBordering;}/* GAME MAP */ // const MapSettings = ({\n// \tsetTooltipContent,\n// \tsetname,\n// \tsetpop_est,\n// \tsetsubrg,\n// \tsetcontinent,\n// \tsetgdp,\n// \tsetdisplay,\n// \tsetclickedCountry,\n// \thandleColourFill,\n// \thandleColourStroke,\n// \tsetdoubleClicked\n// }) => {\n// \treturn (\n// \t\t<div className=\"map-wrapper\">\n// \t\t\t<ComposableMap>\n// \t\t\t\t<CustomZoomableGroup center={[ 0, 0 ]}>\n// \t\t\t\t\t{(position) => (\n// \t\t\t\t\t\t<div>\n// \t\t\t\t\t\t\t<Geographies geography={geoUrl}>\n// \t\t\t\t\t\t\t\t{({ geographies }) => (\n// \t\t\t\t\t\t\t\t\t<div>\n// \t\t\t\t\t\t\t\t\t\t{geographies.map((geo) => {\n// \t\t\t\t\t\t\t\t\t\t\tconst fillcolour = handleColourFill(geo);\n// \t\t\t\t\t\t\t\t\t\t\tconst strokecolour = handleColourStroke(geo);\n// \t\t\t\t\t\t\t\t\t\t\treturn notThisCountry(geo) ? (\n// \t\t\t\t\t\t\t\t\t\t\t\t<Geography\n// \t\t\t\t\t\t\t\t\t\t\t\t\tkey={geo.rsmKey}\n// \t\t\t\t\t\t\t\t\t\t\t\t\tgeography={geo}\n// \t\t\t\t\t\t\t\t\t\t\t\t\tfill={fillcolour}\n// \t\t\t\t\t\t\t\t\t\t\t\t\tstroke={strokecolour}\n// \t\t\t\t\t\t\t\t\t\t\t\t\tonMouseEnter={() => {\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tconst {\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNAME,\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPOP_EST,\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tGDP_MD_EST,\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSUBREGION,\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCONTINENT\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t} = geo.properties;\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t// setTooltipContent(\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t//   `${NAME} - $${getnum(GDP_MD_EST * Math.pow(10, 6))}`\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t// );\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetTooltipContent(`${NAME} - ENEMY TERRITORY`);\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetname(NAME);\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetpop_est(getnum(POP_EST));\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetgdp(getnum(GDP_MD_EST * Math.pow(10, 6)));\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetsubrg(SUBREGION);\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetcontinent(CONTINENT);\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetdisplay(true);\n// \t\t\t\t\t\t\t\t\t\t\t\t\t}}\n// \t\t\t\t\t\t\t\t\t\t\t\t\tonMouseLeave={() => {\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetTooltipContent('');\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetdisplay(false);\n// \t\t\t\t\t\t\t\t\t\t\t\t\t}}\n// \t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tdefault: {\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill: '#D6D6DA',\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none'\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\thover: {\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill: '#F53',\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none'\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tpressed: {\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill: '#D6D6DA',\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none'\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n// \t\t\t\t\t\t\t\t\t\t\t\t\t}}\n// \t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tconst { ISO_A2 } = geo.properties;\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetclickedCountry(ISO_A2);\n// \t\t\t\t\t\t\t\t\t\t\t\t\t}}\n// \t\t\t\t\t\t\t\t\t\t\t\t\tonDoubleClick={() => {\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetdoubleClicked();\n// \t\t\t\t\t\t\t\t\t\t\t\t\t}}\n// \t\t\t\t\t\t\t\t\t\t\t\t/>\n// \t\t\t\t\t\t\t\t\t\t\t) : null;\n// \t\t\t\t\t\t\t\t\t\t})}\n// \t\t\t\t\t\t\t\t\t\t{geographies.map((geo) => {\n// \t\t\t\t\t\t\t\t\t\t\tconst centroid = geoCentroid(geo);\n// \t\t\t\t\t\t\t\t\t\t\tconst { ISO_A2 } = geo.properties;\n// \t\t\t\t\t\t\t\t\t\t\treturn (\n// \t\t\t\t\t\t\t\t\t\t\t\t<g key={geo.rsmKey}>\n// \t\t\t\t\t\t\t\t\t\t\t\t\t{\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t<Marker coordinates={centroid}>\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text fontSize={7 / position.k} alignmentBaseline=\"middle\">\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{countries[ISO_A2]}\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</text>\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t</Marker>\n// \t\t\t\t\t\t\t\t\t\t\t\t\t}\n// \t\t\t\t\t\t\t\t\t\t\t\t</g>\n// \t\t\t\t\t\t\t\t\t\t\t);\n// \t\t\t\t\t\t\t\t\t\t})}\n// \t\t\t\t\t\t\t\t\t</div>\n// \t\t\t\t\t\t\t\t)}\n// \t\t\t\t\t\t\t</Geographies>\n// \t\t\t\t\t\t</div>\n// \t\t\t\t\t)}\n// \t\t\t\t</CustomZoomableGroup>\n// \t\t\t</ComposableMap>\n// \t\t</div>\n// \t);\n// };\nvar SpyDetails=function SpyDetails(_ref2){var name=_ref2.name,pop_est=_ref2.pop_est,gdp=_ref2.gdp,continent=_ref2.continent,subrg=_ref2.subrg;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Grid,{container:true,spacing:12},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,style:{alignText:'center'}},/*#__PURE__*/React.createElement(\"h2\",null,\"Spy Report On: \",/*#__PURE__*/React.createElement(\"div\",{style:{color:'yellow'}},name))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6},/*#__PURE__*/React.createElement(\"h3\",null,\"Population: \"),/*#__PURE__*/React.createElement(Typography,{variant:\"subtitle1\"},pop_est,\" \")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6},/*#__PURE__*/React.createElement(\"h3\",null,\"GDP (PPP): \"),/*#__PURE__*/React.createElement(Typography,{variant:\"subtitle1\"},gdp,\" \")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6},/*#__PURE__*/React.createElement(\"h3\",null,\"Continent\"),/*#__PURE__*/React.createElement(Typography,{variant:\"subtitle1\"},continent,\" \")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6},continent!=='South America'&&/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Subregion: \"),/*#__PURE__*/React.createElement(Typography,{variant:\"subtitle1\"},subrg,\" \"))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(\"h3\",null,\"Allegiance: \"),/*#__PURE__*/React.createElement(Typography,{variant:\"subtitle1\"},\"Ohio \"))));};export default SideBar;","map":{"version":3,"sources":["/Users/shashwatkansal/Documents/Shashwat/Projects/conquer2/V0.3/conquer2/frontend/src/pages/Map/Map.jsx"],"names":["React","Component","useState","connect","loaddetails","Typography","Paper","makeStyles","IconButton","Snackbar","Grid","fade","HelpIcon","MuiAlert","VectorMap","FiberManualRecordIcon","countriesLoaded","countries","socket","troops","countryStates","playerColours","players","countryState","Troops","Player","GameMap","useStyles","theme","sidebar","marginLeft","marginTop","background","color","padding","spacing","position","width","height","borderRadius","boxShadow","buttons","display","justifyContent","button","Alert","props","SideBar","classes","name","setname","pop_est","setpop_est","gdp","setgdp","subrg","setsubrg","continent","setcontinent","fromCountry","setfromCountry","toCountry","settoCountry","openHelp","setOpenHelp","username","handleClick","geo","NAME","properties","handleOpenHelp","handleCloseHelp","event","reason","handleColorFill","country","loadMap","ISO_A2","clickedCountry","undefined","some","iso","col","TypeError","handleColorStroke","handleStrokeWidth","options","length","alignText","fontSize","PlayerBox","Object","keys","map","player","countryColors","fetch","then","raw","text","split","lines","s","forEach","line","slice","getCountryCodes","countrycode","fileURL","textByLine","x","countriesBordering","j","borders","i","push","console","log","SpyDetails"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react';\nimport { connect, loaddetails } from '../../api/index.js';\nimport { Typography, Paper, makeStyles, IconButton, Snackbar, Grid } from '@material-ui/core';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport HelpIcon from '@material-ui/icons/Help';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport VectorMap from './VectorMap';\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\nimport './Map.css';\n\nvar countriesLoaded = false;\nvar countries = {};\nvar socket = null;\nvar troops = 0;\nvar countryStates = {};\nvar playerColours = {};\nvar players = [];\n\nclass countryState {\n\tconstructor(Troops, Player) {\n\t\tthis.Troops = Troops;\n\t\tthis.Player = Player;\n\t}\n}\n\nclass GameMap extends Component {\n\t// constructor() {\n\t// \tsuper();\n\t// \tsocket = connect();\n\t// \tsocket.onmessage = (msg) => {\n\t// \t\tvar action = JSON.parse(msg.data);\n\t// \t\tswitch (action.Type) {\n\t// \t\t\tcase 'updateTroops':\n\t// \t\t\t\ttroops = action.Troops;\n\t// \t\t\t\tbreak;\n\t// \t\t\tcase 'updateCountry':\n\t// \t\t\t\tif (\n\t// \t\t\t\t\ttypeof countryStates[action.Country] == 'undefined' ||\n\t// \t\t\t\t\tcountryStates[action.Country].Player != action.Player\n\t// \t\t\t\t) {\n\t// \t\t\t\t\tcountryStates[action.Country] = new countryState(action.Troops, action.Player);\n\t// \t\t\t\t} else {\n\t// \t\t\t\t\tcountryStates[action.Country].Troops += action.Troops;\n\t// \t\t\t\t}\n\t// \t\t\t\tbreak;\n\t// \t\t\tcase 'newPlayer':\n\t// \t\t\t\tconsole.log(action.Player + ' has entered the chat bois as: ' + action.Country);\n\t// \t\t\t\tplayerColours[action.Player] = action.Country;\n\t// \t\t\t\tplayers.push(action.Player);\n\t// \t\t}\n\t// \t};\n\t// }\n\n\trender() {\n\t\treturn <SideBar />;\n\t}\n}\n\nconst useStyles = makeStyles((theme) => ({\n\tsidebar: {\n\t\tmarginLeft: '70%',\n\t\tmarginTop: '10%',\n\t\tbackground: fade('#000000', 0.8),\n\t\tcolor: 'white',\n\t\tpadding: theme.spacing(3),\n\t\tposition: 'fixed',\n\t\twidth: '30%',\n\t\theight: '80%',\n\t\tborderRadius: '5%',\n\t\tboxShadow: '0px 10px 50px #555'\n\t},\n\tplayers: {\n\t\tbackground: fade('#000000', 0.8),\n\t\tcolor: 'white',\n\t\tpadding: theme.spacing(2),\n\t\tposition: 'fixed',\n\t\tboxShadow: '0px 10px 50px #555'\n\t},\n\tbuttons: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'flex-end'\n\t},\n\tbutton: {\n\t\tmarginTop: theme.spacing(3),\n\t\tmarginLeft: theme.spacing(1)\n\t}\n}));\n\nfunction Alert(props) {\n\treturn <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nfunction SideBar() {\n\t//CSS\n\tconst classes = useStyles();\n\n\t//TODO: Fetch #troops, attack, move options, fix data vals\n\n\t// Spy Detail Information\n\tconst [ name, setname ] = useState('');\n\tconst [ pop_est, setpop_est ] = useState('');\n\tconst [ gdp, setgdp ] = useState('');\n\tconst [ subrg, setsubrg ] = useState('');\n\tconst [ continent, setcontinent ] = useState('');\n\n\t//Currently Clicked Countries\n\tconst [ fromCountry, setfromCountry ] = useState('');\n\tconst [ toCountry, settoCountry ] = useState('');\n\n\t//For the snackbar display settings\n\tconst [ openHelp, setOpenHelp ] = React.useState(false);\n\n\t//Get username\n\tconst username = countryState.Player;\n\n\tconst handleClick = (geo) => {\n\t\tconst { NAME } = geo.properties;\n\n\t\t//TODO: Check if country1 is player's country\n\t\tif (fromCountry === '') {\n\t\t\tsetfromCountry(NAME);\n\t\t} else if (NAME === fromCountry) {\n\t\t\tsetfromCountry('');\n\t\t\tsettoCountry('');\n\t\t} else {\n\t\t\tsettoCountry(NAME);\n\t\t}\n\t};\n\n\t//Handle functions for snackbar\n\tconst handleOpenHelp = () => {\n\t\tsetOpenHelp(true);\n\t};\n\n\tconst handleCloseHelp = (event, reason) => {\n\t\tif (reason === 'clickaway') {\n\t\t\treturn;\n\t\t}\n\t\tsetOpenHelp(false);\n\t};\n\n\tconst handleColorFill = (country) => {\n\t\tif (!countriesLoaded) {\n\t\t\tloadMap();\n\t\t\tcountriesLoaded = true;\n\t\t}\n\t\tconst { NAME, ISO_A2 } = country.properties;\n\n\t\tif (NAME === fromCountry) {\n\t\t\treturn '#002984';\n\t\t} else if (NAME === toCountry) {\n\t\t\treturn '#ffcd38';\n\t\t}\n\n\t\tif (fromCountry === ISO_A2)\n\t\t\tif (\n\t\t\t\tclickedCountry !== '' &&\n\t\t\t\tcountries[clickedCountry] !== undefined &&\n\t\t\t\tcountries[clickedCountry].some((iso) => iso === ISO_A2)\n\t\t\t) {\n\t\t\t\treturn '#be90d4';\n\t\t\t}\n\t\ttry {\n\t\t\tvar col = playerColours[countryStates[ISO_A2].Player];\n\t\t\tif (typeof col == 'undefined') {\n\t\t\t\tcol = '#B9A37E';\n\t\t\t}\n\t\t\treturn col;\n\t\t} catch (TypeError) {\n\t\t\treturn '#B9A37E';\n\t\t}\n\t};\n\n\t//TODO: Change stroke according to action\n\tconst handleColorStroke = (geo) => {\n\t\tconst { NAME } = geo.properties;\n\n\t\tif (NAME === fromCountry) {\n\t\t\treturn '#002984';\n\t\t} else if (NAME === toCountry) {\n\t\t\treturn '#ff9800';\n\t\t}\n\n\t\treturn '#FFFFFF';\n\t};\n\n\tconst handleStrokeWidth = (geo) => {\n\t\tconst { NAME } = geo.properties;\n\n\t\tif (NAME === fromCountry || NAME === toCountry) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn 0.3;\n\t};\n\n\tconst options = () => {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container xs={12}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<button>ATTACK</button>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<button>MOVE</button>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<button>DONATE</button>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<button>DEPLOY</button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t{players.length !== 0 && <PlayerBox classes={classes} />}\n\t\t\t<Paper className={classes.sidebar}>\n\t\t\t\t<Grid container spacing={2} style={{ alignText: 'center' }}>\n\t\t\t\t\t<Grid item xs={12} sm={10}>\n\t\t\t\t\t\t<Typography variant=\"h4\" align=\"center\">\n\t\t\t\t\t\t\tWelcome, Commander {username}!\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={2}>\n\t\t\t\t\t\t<IconButton aria-label=\"help\" color=\"primary\" size=\"small\">\n\t\t\t\t\t\t\t<HelpIcon\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tfontSize: '25'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonClick={handleOpenHelp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Snackbar open={openHelp} autoHideDuration={5000} onClose={handleCloseHelp}>\n\t\t\t\t\t\t\t\t<Alert onClose={handleCloseHelp} severity=\"info\">\n\t\t\t\t\t\t\t\t\tThis is your control room. Hover above countries to receive encrypted data. Click on\n\t\t\t\t\t\t\t\t\tcountries to see your military options.\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t</Snackbar>\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t{name !== '' && (\n\t\t\t\t\t\t\t<SpyDetails name={name} subrg={subrg} continent={continent} pop_est={pop_est} gdp={gdp} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Paper>\n\n\t\t\t<VectorMap\n\t\t\t\tsetname={setname}\n\t\t\t\tsetpop_est={setpop_est}\n\t\t\t\tsetsubrg={setsubrg}\n\t\t\t\tsetcontinent={setcontinent}\n\t\t\t\tsetgdp={setgdp}\n\t\t\t\thandleColorFill={handleColorFill}\n\t\t\t\thandleColorStroke={handleColorStroke}\n\t\t\t\thandleStrokeWidth={handleStrokeWidth}\n\t\t\t\thandleClick={handleClick}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nconst PlayerBox = ({ classes }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Paper className={classes.players}>\n\t\t\t\t<Typography variant=\"subtitle1\">ONLINE PLAYERS:</Typography>\n\t\t\t\t<Grid container spacing={12}>\n\t\t\t\t\t{Object.keys(playerColours).map(function(player, color) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div key={player} style={{ padding: '5%' }}>\n\t\t\t\t\t\t\t\t<Grid container spacing={12}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"p\">{player}</Typography>\n\t\t\t\t\t\t\t\t\t\t<FiberManualRecordIcon style={{ color: color }} />\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</Grid>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n};\n\nvar clickedCountry;\n//TODO: player team colour for country\nfunction countryColors(country) {\n\tconst { NAME, ISO_A2 } = country.properties;\n\treturn '#AAA';\n}\n\nfunction loadMap() {\n\t//TODO: take value from the cookie\n\tfetch('/maps/world.txt')\n\t\t.then((raw) => raw.text())\n\t\t.then((raw) => raw.split('\\n'))\n\t\t.then((lines) => lines.map((s) => s.split(' ')))\n\t\t.then((lines) => lines.forEach((line) => (countries[line[0]] = line.slice(1))));\n}\n\n//FIXME: fix read file correctly\nfunction getCountryCodes(countrycode) {\n\t// var fs = require(\"fs\");\n\tconst fileURL = '/maps/world.txt';\n\tvar textByLine = '';\n\tfetch(fileURL)\n\t\t.then((raw) => raw.text())\n\t\t.then((raw) => raw.split('\\n'))\n\t\t.then((raw) => raw.map((x) => x.split(' ')))\n\t\t.then((raw) => (textByLine = raw));\n\n\tvar countriesBordering = [];\n\n\tfor (let j = 0; j < textByLine.length; j++) {\n\t\tvar borders = textByLine[j].split(' ');\n\t\tif (borders[0] == countrycode) {\n\t\t\tfor (let i = 1; i < borders.length; i++) {\n\t\t\t\t//Get border codes\n\t\t\t\tcountriesBordering.push(borders[i]);\n\t\t\t}\n\t\t}\n\t}\n\tconsole.log(countriesBordering);\n\treturn countriesBordering;\n}\n\n/* GAME MAP */\n\n// const MapSettings = ({\n// \tsetTooltipContent,\n// \tsetname,\n// \tsetpop_est,\n// \tsetsubrg,\n// \tsetcontinent,\n// \tsetgdp,\n// \tsetdisplay,\n// \tsetclickedCountry,\n// \thandleColourFill,\n// \thandleColourStroke,\n// \tsetdoubleClicked\n// }) => {\n// \treturn (\n// \t\t<div className=\"map-wrapper\">\n// \t\t\t<ComposableMap>\n// \t\t\t\t<CustomZoomableGroup center={[ 0, 0 ]}>\n// \t\t\t\t\t{(position) => (\n// \t\t\t\t\t\t<div>\n// \t\t\t\t\t\t\t<Geographies geography={geoUrl}>\n// \t\t\t\t\t\t\t\t{({ geographies }) => (\n// \t\t\t\t\t\t\t\t\t<div>\n// \t\t\t\t\t\t\t\t\t\t{geographies.map((geo) => {\n// \t\t\t\t\t\t\t\t\t\t\tconst fillcolour = handleColourFill(geo);\n// \t\t\t\t\t\t\t\t\t\t\tconst strokecolour = handleColourStroke(geo);\n// \t\t\t\t\t\t\t\t\t\t\treturn notThisCountry(geo) ? (\n// \t\t\t\t\t\t\t\t\t\t\t\t<Geography\n// \t\t\t\t\t\t\t\t\t\t\t\t\tkey={geo.rsmKey}\n// \t\t\t\t\t\t\t\t\t\t\t\t\tgeography={geo}\n// \t\t\t\t\t\t\t\t\t\t\t\t\tfill={fillcolour}\n// \t\t\t\t\t\t\t\t\t\t\t\t\tstroke={strokecolour}\n// \t\t\t\t\t\t\t\t\t\t\t\t\tonMouseEnter={() => {\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tconst {\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNAME,\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPOP_EST,\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tGDP_MD_EST,\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSUBREGION,\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCONTINENT\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t} = geo.properties;\n\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t// setTooltipContent(\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t//   `${NAME} - $${getnum(GDP_MD_EST * Math.pow(10, 6))}`\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t// );\n\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetTooltipContent(`${NAME} - ENEMY TERRITORY`);\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetname(NAME);\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetpop_est(getnum(POP_EST));\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetgdp(getnum(GDP_MD_EST * Math.pow(10, 6)));\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetsubrg(SUBREGION);\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetcontinent(CONTINENT);\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetdisplay(true);\n// \t\t\t\t\t\t\t\t\t\t\t\t\t}}\n// \t\t\t\t\t\t\t\t\t\t\t\t\tonMouseLeave={() => {\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetTooltipContent('');\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetdisplay(false);\n// \t\t\t\t\t\t\t\t\t\t\t\t\t}}\n// \t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tdefault: {\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill: '#D6D6DA',\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none'\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\thover: {\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill: '#F53',\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none'\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tpressed: {\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill: '#D6D6DA',\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none'\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n// \t\t\t\t\t\t\t\t\t\t\t\t\t}}\n// \t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tconst { ISO_A2 } = geo.properties;\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetclickedCountry(ISO_A2);\n// \t\t\t\t\t\t\t\t\t\t\t\t\t}}\n// \t\t\t\t\t\t\t\t\t\t\t\t\tonDoubleClick={() => {\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsetdoubleClicked();\n// \t\t\t\t\t\t\t\t\t\t\t\t\t}}\n// \t\t\t\t\t\t\t\t\t\t\t\t/>\n// \t\t\t\t\t\t\t\t\t\t\t) : null;\n// \t\t\t\t\t\t\t\t\t\t})}\n\n// \t\t\t\t\t\t\t\t\t\t{geographies.map((geo) => {\n// \t\t\t\t\t\t\t\t\t\t\tconst centroid = geoCentroid(geo);\n// \t\t\t\t\t\t\t\t\t\t\tconst { ISO_A2 } = geo.properties;\n// \t\t\t\t\t\t\t\t\t\t\treturn (\n// \t\t\t\t\t\t\t\t\t\t\t\t<g key={geo.rsmKey}>\n// \t\t\t\t\t\t\t\t\t\t\t\t\t{\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t<Marker coordinates={centroid}>\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text fontSize={7 / position.k} alignmentBaseline=\"middle\">\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{countries[ISO_A2]}\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</text>\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\t</Marker>\n// \t\t\t\t\t\t\t\t\t\t\t\t\t}\n// \t\t\t\t\t\t\t\t\t\t\t\t</g>\n// \t\t\t\t\t\t\t\t\t\t\t);\n// \t\t\t\t\t\t\t\t\t\t})}\n// \t\t\t\t\t\t\t\t\t</div>\n// \t\t\t\t\t\t\t\t)}\n// \t\t\t\t\t\t\t</Geographies>\n// \t\t\t\t\t\t</div>\n// \t\t\t\t\t)}\n// \t\t\t\t</CustomZoomableGroup>\n// \t\t\t</ComposableMap>\n// \t\t</div>\n// \t);\n// };\n\nconst SpyDetails = ({ name, pop_est, gdp, continent, subrg }) => {\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={12}>\n\t\t\t\t<Grid item xs={12} style={{ alignText: 'center' }}>\n\t\t\t\t\t<h2>\n\t\t\t\t\t\tSpy Report On: <div style={{ color: 'yellow' }}>{name}</div>\n\t\t\t\t\t</h2>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={6}>\n\t\t\t\t\t<h3>Population: </h3>\n\t\t\t\t\t<Typography variant=\"subtitle1\">{pop_est} </Typography>\n\t\t\t\t\t{/* <h3>{countryStates[clickedCountry].Troops \n\t\t\t\t\t\t\t!== undefined && countryStates[clickedCountry].Troops}</h3> */}\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={6}>\n\t\t\t\t\t<h3>GDP (PPP): </h3>\n\n\t\t\t\t\t<Typography variant=\"subtitle1\">{gdp} </Typography>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={6}>\n\t\t\t\t\t<h3>Continent</h3>\n\t\t\t\t\t<Typography variant=\"subtitle1\">{continent} </Typography>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={6}>\n\t\t\t\t\t{continent !== 'South America' && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h3>Subregion: </h3>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\">{subrg} </Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<h3>Allegiance: </h3>\n\t\t\t\t\t<Typography variant=\"subtitle1\">Ohio </Typography>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t);\n};\n\nexport default SideBar;\n"]},"metadata":{},"sourceType":"module"}