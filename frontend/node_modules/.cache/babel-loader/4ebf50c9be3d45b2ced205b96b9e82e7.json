{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Akshat\\\\Documents\\\\Imperial\\\\personal\\\\conquer2\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"C:\\\\Users\\\\Akshat\\\\Documents\\\\Imperial\\\\personal\\\\conquer2\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Akshat\\\\Documents\\\\Imperial\\\\personal\\\\conquer2\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Akshat\\\\Documents\\\\Imperial\\\\personal\\\\conquer2\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Akshat\\\\Documents\\\\Imperial\\\\personal\\\\conquer2\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component,useState}from\"react\";import{ComposableMap,Geographies,Geography,ZoomableGroup}from\"react-simple-maps\";import ReactTooltip from\"react-tooltip\";import\"./Map.css\";var geoUrl=\"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json\";var id=\"test/\";var socketURL=\"ws://localhost:8080/game/\"+id+\"ws\";var GameMap=/*#__PURE__*/function(_Component){_inherits(GameMap,_Component);var _super=_createSuper(GameMap);function GameMap(){var _this;_classCallCheck(this,GameMap);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.socket=new WebSocket(socketURL);return _this;}_createClass(GameMap,[{key:\"componenetDidMount\",value:function componenetDidMount(){this.socket.onopen=function(){console.log(\"Connection Successful\");};this.socket.onmessage=function(msg){var message=JSON.parse(msg.data);console.log(msg);};this.socket.onclose=function(){console.log(\"Disconnected\");};}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(MapDisplay,null);}}]);return GameMap;}(Component);function MapDisplay(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(SideBar,null),/*#__PURE__*/React.createElement(MapSettings,{setTooltipContent:setState}),/*#__PURE__*/React.createElement(ReactTooltip,null,state));}function SideBar(){return/*#__PURE__*/React.createElement(\"div\",{className:\"map-sidebar-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"map-sidebar-info-wrapper\"},/*#__PURE__*/React.createElement(\"h1\",null,\"GameInfo\")));}var getWealth=function getWealth(GDP_MD_EST,POP_EST){var actual_GDP=GDP_MD_EST*Math.pow(10,6);var wealth=Math.round(actual_GDP);if(wealth>Math.pow(10,12)){wealth=wealth/Math.pow(10,12)+\" Trillion\";}else if(wealth>Math.pow(10,9)){wealth=wealth/Math.pow(10,9)+\" Billion\";}else if(wealth>Math.pow(10,6)){wealth=wealth/Math.pow(10,6)+\" Million\";}return wealth;};var MapSettings=function MapSettings(_ref){var setTooltipContent=_ref.setTooltipContent;return/*#__PURE__*/React.createElement(\"div\",{className:\"map-wrapper\"},/*#__PURE__*/React.createElement(ComposableMap,{\"data-tip\":\"\"},/*#__PURE__*/React.createElement(ZoomableGroup,null,/*#__PURE__*/React.createElement(Geographies,{geography:geoUrl},function(_ref2){var geographies=_ref2.geographies;return geographies.map(function(geo){return/*#__PURE__*/React.createElement(Geography,{key:geo.rsmKey,geography:geo,fill:\"#DDD\",stroke:\"#FFF\",onMouseEnter:function onMouseEnter(){var _geo$properties=geo.properties,NAME=_geo$properties.NAME,POP_EST=_geo$properties.POP_EST,GDP_MD_EST=_geo$properties.GDP_MD_EST;setTooltipContent(\"\".concat(NAME,\" - \").concat(getWealth(GDP_MD_EST,POP_EST)));},onMouseLeave:function onMouseLeave(){setTooltipContent(\"\");},onClick:function onClick(){},style:{default:{fill:\"#D6D6DA\",outline:\"none\"},hover:{fill:\"#F53\",outline:\"none\"},pressed:{fill:\"#E42\",outline:\"none\"}}});});}))));};export default GameMap;","map":{"version":3,"sources":["C:/Users/Akshat/Documents/Imperial/personal/conquer2/frontend/src/pages/Map.jsx"],"names":["React","Component","useState","ComposableMap","Geographies","Geography","ZoomableGroup","ReactTooltip","geoUrl","id","socketURL","GameMap","socket","WebSocket","onopen","console","log","onmessage","msg","message","JSON","parse","data","onclose","MapDisplay","state","setState","SideBar","getWealth","GDP_MD_EST","POP_EST","actual_GDP","Math","pow","wealth","round","MapSettings","setTooltipContent","geographies","map","geo","rsmKey","properties","NAME","default","fill","outline","hover","pressed"],"mappings":"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","sourcesContent":["import React, { Component, useState } from \"react\";\r\nimport {\r\n  ComposableMap,\r\n  Geographies,\r\n  Geography,\r\n  ZoomableGroup,\r\n} from \"react-simple-maps\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport \"./Map.css\";\r\n\r\nconst geoUrl =\r\n  \"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json\";\r\n\r\nconst id = \"test/\";\r\nconst socketURL = \"ws://localhost:8080/game/\" + id + \"ws\";\r\n\r\nclass GameMap extends Component {\r\n  socket = new WebSocket(socketURL);\r\n  componenetDidMount() {\r\n    this.socket.onopen = () => {\r\n      console.log(\"Connection Successful\");\r\n    };\r\n\r\n    this.socket.onmessage = (msg) => {\r\n      const message = JSON.parse(msg.data);\r\n      console.log(msg);\r\n    };\r\n\r\n    this.socket.onclose = () => {\r\n      console.log(\"Disconnected\");\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return <MapDisplay />;\r\n  }\r\n}\r\n\r\nfunction MapDisplay() {\r\n  const [state, setState] = useState(\"\");\r\n  return (\r\n    <div>\r\n      <SideBar />\r\n      <MapSettings setTooltipContent={setState} />\r\n      <ReactTooltip>{state}</ReactTooltip>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SideBar() {\r\n  return (\r\n    <div className=\"map-sidebar-wrapper\">\r\n      <div className=\"map-sidebar-info-wrapper\">\r\n        <h1>GameInfo</h1>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst getWealth = (GDP_MD_EST, POP_EST) => {\r\n  var actual_GDP = GDP_MD_EST * Math.pow(10, 6);\r\n  var wealth = Math.round(actual_GDP);\r\n  if (wealth > Math.pow(10, 12)) {\r\n    wealth = wealth / Math.pow(10, 12) + \" Trillion\";\r\n  } else if (wealth > Math.pow(10, 9)) {\r\n    wealth = wealth / Math.pow(10, 9) + \" Billion\";\r\n  } else if (wealth > Math.pow(10, 6)) {\r\n    wealth = wealth / Math.pow(10, 6) + \" Million\";\r\n  }\r\n  return wealth;\r\n};\r\n\r\nconst MapSettings = ({ setTooltipContent }) => {\r\n  return (\r\n    <div className=\"map-wrapper\">\r\n      <ComposableMap data-tip=\"\">\r\n        <ZoomableGroup>\r\n          <Geographies geography={geoUrl}>\r\n            {({ geographies }) =>\r\n              geographies.map((geo) => (\r\n                <Geography\r\n                  key={geo.rsmKey}\r\n                  geography={geo}\r\n                  fill=\"#DDD\"\r\n                  stroke=\"#FFF\"\r\n                  onMouseEnter={() => {\r\n                    const { NAME, POP_EST, GDP_MD_EST } = geo.properties;\r\n                    setTooltipContent(\r\n                      `${NAME} - ${getWealth(GDP_MD_EST, POP_EST)}`\r\n                    );\r\n                  }}\r\n                  onMouseLeave={() => {\r\n                    setTooltipContent(\"\");\r\n                  }}\r\n                  onClick={() => {}}\r\n                  style={{\r\n                    default: {\r\n                      fill: \"#D6D6DA\",\r\n                      outline: \"none\",\r\n                    },\r\n                    hover: {\r\n                      fill: \"#F53\",\r\n                      outline: \"none\",\r\n                    },\r\n                    pressed: {\r\n                      fill: \"#E42\",\r\n                      outline: \"none\",\r\n                    },\r\n                  }}\r\n                />\r\n              ))\r\n            }\r\n          </Geographies>\r\n        </ZoomableGroup>\r\n      </ComposableMap>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameMap;\r\n"]},"metadata":{},"sourceType":"module"}